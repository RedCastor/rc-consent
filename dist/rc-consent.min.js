!function(o){"use strict";if(!o.hasInitialised){var u={escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},hasClass:function(t,e){var n=" ";return 1===t.nodeType&&0<=(n+t.className+n).replace(/[\n\t]/g,n).indexOf(n+e+n)},addClass:function(t,e){t.className+=" "+e},removeClass:function(t,e){var n=new RegExp("\\b"+this.escapeRegExp(e)+"\\b");t.className=t.className.replace(n,"")},interpolateString:function(t,e){return t.replace(/{{([a-z][a-z0-9\-_]*)}}/gi,function(t){return e(arguments[1])||""})},getCookie:function(t){var e="; "+document.cookie,n=e.split("; "+t+"=");e=n.length<2?void 0:n.pop().split(";").shift();try{e=JSON.parse(decodeURIComponent(e))}catch(t){}return e},setCookie:function(t,e,n,i,o,s){var a=new Date;a.setDate(a.getDate()+(n||365)),this.isPlainObject(e)&&(e=JSON.stringify(e));var r=[t+"="+(e=encodeURIComponent(e)),"expires="+a.toUTCString(),"path="+(o||"/")];i&&r.push("domain="+i),s&&r.push("secure"),document.cookie=r.join(";")},deepExtend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(n in t&&this.isPlainObject(t[n])&&this.isPlainObject(e[n])?this.deepExtend(t[n],e[n]):t[n]=e[n]);return t},throttle:function(t,e){var n=!1;return function(){n||(t.apply(this,arguments),n=!0,setTimeout(function(){n=!1},e))}},hash:function(t){var e,n,i=0;if(0===t.length)return i;for(e=0,n=t.length;e<n;++e)i=(i<<5)-i+t.charCodeAt(e),i|=0;return 268435455&i},normaliseHex:function(t){return"#"===t[0]&&(t=t.substr(1)),3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),t},getContrast:function(t){return t=this.normaliseHex(t),128<=(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3?"#000":"#fff"},getLuminance:function(t){var e=parseInt(this.normaliseHex(t),16),n=38+(e>>16),i=38+(e>>8&255),o=38+(255&e);return"#"+(16777216+65536*(n<255?n<1?0:n:255)+256*(i<255?i<1?0:i:255)+(o<255?o<1?0:o:255)).toString(16).slice(1)},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isPlainObject:function(t){return"object"==typeof t&&null!==t&&t.constructor===Object},traverseDOMPath:function(t,e){return t&&t.parentNode?util.hasClass(t,e)?t:this.traverseDOMPath(t.parentNode,e):null}},l=[],h={},n={id:null,trackingId:null,category:"analytics",onInitialise:function(t,e){},onAllow:function(t){},onRevoke:function(t){},onStatusChange:function(t,e,n){}},f={formId:null,cookie:{name:"rcc_consent",domain:"",path:"/",days:7},categories:["analytics"]},d=function(t,e){if(!e&&"submit"===t.type){var n=t.target.querySelectorAll("input[name]");if(n.length){e={};for(var i=0;i<n.length;i++)"checkbox"===n[i].type&&0<=o.options.categories.indexOf(n[i].name)&&(e[n[i].name]=n[i].checked)}}o.setConsent(e)};o={initialise:function(t){if(u.deepExtend(this.options={},f),u.isPlainObject(t)&&u.deepExtend(this.options,t),this.options.formIds)for(var e=0;e<this.options.formIds.length;e++){window.document.getElementById(this.options.formIds[e]).addEventListener("submit",d)}if(this.options.clickSelector)for(var n=window.document.querySelectorAll(this.options.clickSelector),i=0;i<n.length;i++)n[i].addEventListener("click",d);window.document.addEventListener("rccSetConsent",d);var o,s=[];u.isPlainObject(this.options.defaultStatus)&&(s=Object.keys(this.options.defaultStatus));for(var a=0;a<l.length;a++)o=l[a].category||"analytics",-1===s.indexOf(o)&&s.push(o),0<=this.options.categories.indexOf(o)&&this.options.categories.splice(this.options.categories.indexOf(o),1);this.options.categories=s.concat(this.options.categories);for(var r=this.getStatus(),c=0;c<l.length;c++)o=l[c].category,l[c].onInitialise.call(l[c],this,r),o&&!0===r[o]&&l[c].onAllow.call(l[c],this);h=r},addProvider:function(t){if(!t.id||""===t.id)return!1;var e={};return u.deepExtend(e,n),u.isPlainObject(t)&&u.deepExtend(e,t),l.push(e),!0},getProviders:function(){return l},setConsent:function(t){this.setStatus(t);var e=this.getStatus(),n=!1;JSON.stringify(e)!==JSON.stringify(h)&&(n=!0);for(var i=0;i<l.length;i++){var o=l[i].category;n&&l[i].onStatusChange.call(l[i],this,e,h),e[o]!==h[o]&&(e[o]?l[i].onAllow.call(l[i],this):l[i].onRevoke.call(l[i],this))}h=e},getStatus:function(){var t=o.options.cookie,e=u.getCookie(t.name),n=u.getCookie(t.name+"_hash"),i=this.getDefaultStatus();return u.isPlainObject(e)&&s(i,e),JSON.stringify(e)!==JSON.stringify(i)&&u.setCookie(t.name,i,0,t.domain,t.path),n!==u.hash(JSON.stringify(i))&&u.setCookie(this.options.cookie.name+"_hash","",-1,t.domain,t.path),i},setStatus:function(t){var e=this.options.cookie;if(!u.isPlainObject(t)){var n=u.getCookie(e.name);t=this.getDefaultStatus(),u.isPlainObject(n)&&s(t,n)}var i=u.hash(JSON.stringify(t));u.setCookie(e.name,t,0,e.domain,e.path),u.setCookie(e.name+"_hash",i,e.days,e.domain,e.path)},clearStatus:function(){var t=this.options.cookie;u.setCookie(t.name,"",-1,t.domain,t.path),u.setCookie(t.name+"_hash","",-1,t.domain,t.path),h=this.getDefaultStatus()},getDefaultStatus:function(){for(var t=u.isPlainObject(this.options.defaultStatus)?this.options.defaultStatus:{},e={},n=0;n<this.options.categories.length;n++){var i=t[this.options.categories[n]];e[this.options.categories[n]]=!0===i}return e},hasConsented:function(t){var e=this.getStatus();return!!u.getCookie(this.options.cookie.name+"_hash")&&(!t||!!e[t])},hasInitialised:!0},window.rcc=o}function s(t,e){for(var n in t)t.hasOwnProperty(n)&&(!0!==e[n]&&!1!==e[n]||(t[n]=e[n]));return t}}(window,window.rcc);